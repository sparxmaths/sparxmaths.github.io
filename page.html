<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sparx Maths</title>

    <link rel="icon" type="image/png" sizes="32x32" href="Assets/Images/Logo.png">
    <link rel="icon" type="image/png" sizes="16x16" href="Assets/Images/Logo.png">
    <link rel="shortcut icon" href="Assets/Images/Logo.png">

    <link rel="apple-touch-icon" href="Assets/Images/Logo.png">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#000000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="SPARX">
</head>

<body>
    <div class="loading-screen">
        <div class="loader">
            <img src="Assets/Images/Logo.png" alt="Logo" class="loading-logo">
            <div class="progress-bar">
                <div class="progress"></div>
            </div>
        </div>
    </div>

    <div class="notice-overlay" id="captchaOverlay">
        <div class="captcha-container">
            <div class="credit-card">
                <div class="card-header">
                    <span>Sparx</span>
                    <div class="wireless-icon">
                        <img src="Assets/Images/Logo.png" alt="Logo" class="card-logo-icon">
                    </div>
                </div>
                <div class="card-info">
                    <div class="card-holder">Sparx</div>
                </div>
            </div>
            <div class="captcha-content">
                <h3>Verification</h3>
                <!-- Changed to a password input and added an id for scripting -->
                <input id="captchaPasswordInput" type="password" class="captcha-input" placeholder="Enter password">
                <div class="captcha-buttons">
                    <button id="captchaConfirmBtn" class="captcha-btn confirm-btn">Confirm</button>
                </div>
                <div id="captchaMessage" style="color:#e74c3c;margin-top:8px;display:none;"></div>
            </div>
        </div>
    </div>

    <header>
        <nav style="display:flex;align-items:center;justify-content:space-between;padding:0 20px;">
            <div class="nav-left" style="display:flex;align-items:center;gap:12px;">
    <a href="https://maths.sparx-learning.com/student" 
   style="display:flex;align-items:center;gap:12px;text-decoration:none;color:inherit;">
    <img src="Assets/Images/Logo.png" alt="sparx Logo" class="logo">
    <h1>Sparx</h1>
</a>

</div>

            <div class="nav-right" style="display:flex;align-items:center;gap:8px;">
                <button class="theme-toggle" aria-label="Toggle theme" style="display:flex;align-items:center;justify-content:center;">
                    <i class="fas fa-sun"></i>
                    <i class="fas fa-moon"></i>
                </button>
                <a href="all-games.html" class="nav-icon-btn" title="All Games">
                    <img src="Assets/Images/apps.png" alt="All Games">
                </a>

            </div>
        </nav>
    </header>

    <div class="hero-banner">
        <div class="banner-content">
            <img src="Assets/Images/Logo.png" alt="Sparx Logo" class="banner-logo">
            <h1>Revision</h1>
        </div>
    </div>

    <main>
        <section id="popular">
            <h2>Popular Games</h2>
            <div class="games-container">
                <button class="scroll-btn prev">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <div class="games-row">
                    <a href="Assets/Games/Papas/papas-pizzeria/index.html" class="game-card">
                        <img src="Assets/Game_Images/PapasPizzaria.png" alt="Papas Pizzaria">
                        <span class="badge">Papas Pizzaria</span>
                    </a>
                        <a href="Assets/Games/minecraft-case-simulator/index.html" class="game-card">
                        <img src="Assets/Games/minecraft-case-simulator/icons/case_simulator.png" alt="Minecraft case simulator">
                        <span class="badge">G's Minecraft case simulator</span>
                    </a>

                            <a href="Assets/Games/among-us/index.html" class="game-card">
                        <img src="Assets/Games/among-us/images/tiledbackground-sheet0.png" alt="G's among us">
                        <span class="badge">G's Among Us</span>
                    </a>

                            <a href="Assets/Games/geodash/index.html" class="game-card">
                        <img src="Assets/Games/geodash/geoscratchicon.png" alt="G's geometry dash">
                        <span class="badge">G's Geometry Dash</span>
                    </a>

                    
                    <a href="Assets/Games/paperio2/index.html" class="game-card">
                        <img src="Assets/Game_Images/Paperio2.png" alt="Paper.io 2">
                        <span class="badge">Paper.io 2</span>
                    </a>
                    <a href="Assets/Games/draw-the-hill/index.html" class="game-card">
                        <img src="Assets/Game_Images/DrawTheHill.png" alt="Draw The Hill">
                        <span class="badge">Draw The Hill</span>
                    </a>
                    <a href="Assets/Games/blockblast/index.html" class="game-card">
                        <img src="Assets/Game_Images/BlockBlast.png" alt="Block Blast">
                        <span class="badge">Block Blast</span>
                    </a>
                    <a href="Assets/Games/subwaysurfers/index.html" class="game-card">
                        <img src="Assets/Game_Images/SubwaySurfers.png" alt="Subway Surfers">
                        <span class="badge">Subway Surfers</span>
                    </a>
                    <a href="Assets/Games/LiquidSoccer/index.html" class="game-card">
                        <img src="Assets/Game_Images/LiquidSoccer.png" alt="Super Liquid Soccer">
                        <span class="badge">Super Liquid Soccer</span>
                    </a>
                    <a href="Assets/Games/fnaf/index.html" class="game-card">
                        <img src="Assets/Game_Images/Fnaf.png" alt="Five Nights at Freddy's">
                        <span class="badge">Five Nights at Freddy's</span>
                    </a>
                    <a href="Assets/Games/flappy-bird/index.html" class="game-card">
                        <img src="Assets/Game_Images/FlappyBird.png" alt="Flappy Bird">
                        <span class="badge">Flappy Bird</span>
                    </a>
                    <a href="Assets/Games/drivemad/index.html" class="game-card">
                        <img src="Assets/Game_Images/DriveMad.png" alt="Drive Mad">
                        <span class="badge">Drive Mad</span>
                    </a>
                    <a href="Assets/Games/cookieclicker/index.html" class="game-card">
                        <img src="Assets/Game_Images/CookieClicker.png" alt="Cookie Clicker">
                        <span class="badge">Cookie Clicker</span>
                    </a>
                    <a href="Assets/Games/jetpack-joyride/index.html" class="game-card">
                        <img src="Assets/Game_Images/JetpackJoyride.png" alt="Jetpack Joyride">
                        <span class="badge">Jetpack Joyride</span>
                    </a>
                </div>
                <button class="scroll-btn next">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </section>

        <section id="featured">
            <h2>Featured Games</h2>
            <div class="games-container">
                <button class="scroll-btn prev">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <div class="games-row">
                    <a href="Assets/Games/monkey-mart/index.html" class="game-card">
                        <img src="Assets/Game_Images/MonkeyMart.png" alt="Monkey Mart">
                        <span class="badge">Monkey Mart</span>
                    </a>
                    <a href="Assets/Games/ovo/index.html" class="game-card">
                        <img src="Assets/Game_Images/OvO.png" alt="OvO">
                        <span class="badge">OvO</span>
                    </a>
                    <a href="Assets/Games/bitlife/index.html" class="game-card">
                        <img src="Assets/Game_Images/BitLife.png" alt="BitLife">
                        <span class="badge">BitLife</span>
                    </a>
                    <a href="Assets/Games/crossyroad/index.html" class="game-card">
                        <img src="Assets/Game_Images/CrossyRoad.png" alt="Crossy Road">
                        <span class="badge">Crossy Road</span>
                    </a>
                    <a href="Assets/Games/cut-the-rope/index.html" class="game-card">
                        <img src="Assets/Game_Images/CutTheRope.png" alt="Cut the Rope">
                        <span class="badge">Cut the Rope</span>
                    </a>
                </div>
                <button class="scroll-btn next">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </section>

<section id="new">
        <div>
            <h2>More games coming soon..</h2>
        </div>
</section>
        
        <section id="new">
            <h2>Recent Games</h2>
            <div class="games-container">
                <button class="scroll-btn prev">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <div class="games-row">
                    <a href="Assets/Games/cc3d/index.html" class="game-card">
                        <img src="Assets/Game_Images/CC3d.png" alt="Crazy Cattle 3D">
                        <span class="badge">Crazy Cattle 3D</span>
                    </a>
                    <a href="Assets/Games/basketballstars/index.html" class="game-card">
                        <img src="Assets/Game_Images/BasketballStars.png" alt="Basketball Stars">
                        <span class="badge">Basketball Stars</span>
                    </a>
                    <a href="Assets/Games/basketball-random/index.html" class="game-card">
                        <img src="Assets/Game_Images/BasketballRandom.png" alt="Basketball Random">
                        <span class="badge">Basketball Random</span>
                    </a>
                    <a href="Assets/Games/baldisbasics/index.html" class="game-card">
                        <img src="Assets/Game_Images/BaldisBasics.png" alt="Baldi's Basics">
                        <span class="badge">Baldi's Basics</span>
                    </a>
                    <a href="Assets/Games/boxingrandom/index.html" class="game-card">
                        <img src="Assets/Game_Images/BoxingRandom.png" alt="Boxing Random">
                        <span class="badge">Boxing Random</span>
                    </a>
                    <a href="Assets/Games/LiquidSoccer/index.html" class="game-card">
                        <img src="Assets/Game_Images/LiquidSoccer.png" alt="Super Liquid Soccer">
                        <span class="badge">Super Liquid Soccer</span>
                    </a>
                </div>
                <button class="scroll-btn next">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </section>
        <section id="other-games">
            <h2>All Other Games</h2>
            <div class="games-container">
                <button class="scroll-btn prev">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <div class="games-row">
                    <a href="Assets/Games/tiny-fishing/index.html" class="game-card">
                        <img src="Assets/Game_Images/TinyFishing.png" alt="Tiny Fishing">
                        <span class="badge">Tiny Fishing</span>
                    </a>
                    <a href="Assets/Games/BurgerFrights/index.html" class="game-card">
                        <img src="Assets/Game_Images/BurgerFrights.png" alt="Burger Frights">
                        <span class="badge">Burger Frights</span>
                    </a>
                    <a href="Assets/Games/cell-machine/index.html" class="game-card">
                        <img src="Assets/Game_Images/CellMatchine.png" alt="Cell Machine">
                        <span class="badge">Cell Machine</span>
                    </a>
                    <a href="Assets/Games/driftboss/index.html" class="game-card">
                        <img src="Assets/Game_Images/DriftBoss.png" alt="Drift Boss">
                        <span class="badge">Drift Boss</span>
                    </a>
                    <a href="Assets/Games/fruitninja/index.html" class="game-card">
                        <img src="Assets/Game_Images/FruitNinja.png" alt="Fruit Ninja">
                        <span class="badge">Fruit Ninja</span>
                    </a>
                    <a href="Assets/Games/stickman/index.html" class="game-card">
                        <img src="Assets/Game_Images/StickmanHook.png" alt="Stickman">
                        <span class="badge">Stickman Hook</span>
                    </a>
                    <a href="Assets/Games/tanuki-sunset/index.html" class="game-card">
                        <img src="Assets/Game_Images/TanukiSunset.png" alt="Tanuki Sunset">
                        <span class="badge">Tanuki Sunset</span>
                    </a>
                    <a href="Assets/Games/temple-run-2/index.html" class="game-card">
                        <img src="Assets/Game_Images/TempleRun.png" alt="Temple Run">
                        <span class="badge">Temple Run</span>
                    </a>
                    <a href="Assets/Games/block-blast/index.html" class="game-card">
                        <img src="Assets/Game_Images/BlockBlast.png" alt="Block Blast">
                        <span class="badge">Block Blast</span>
                    </a>
                    <a href="Assets/Games/subwaysurfers/index.html" class="game-card">
                        <img src="Assets/Game_Images/SubwaySurfers.png" alt="Subway Surfers">
                        <span class="badge">Subway Surfers</span>
                    </a>
                    <a href="Assets/Games/motox3m/index.html" class="game-card">
                        <img src="Assets/Game_Images/Motoc3M.png" alt="Moto X3M">
                        <span class="badge">Moto X3M</span>
                    </a>
                    <a href="Assets/Games/Papas/papas-pizzeria/index.html" class="game-card">
                        <img src="Assets/Game_Images/PapasPizzaria.png" alt="Papas Pizzaria">
                        <span class="badge">Papas Pizzaria</span>
                    </a>
                    <a href="Assets/Games/paperio2/index.html" class="game-card">
                        <img src="Assets/Game_Images/Paperio2.png" alt="Paper.io 2">
                        <span class="badge">Paper.io 2</span>
                    </a>
                    <a href="Assets/Games/infinitecraft/index.html" class="game-card">
                        <img src="Assets/Game_Images/InfiniteCraft.png" alt="Infinite Craft">
                        <span class="badge">Infinite Craft</span>
                    </a>
                    <a href="Assets/Games/draw-the-hill/index.html" class="game-card">
                        <img src="Assets/Game_Images/DrawTheHill.png" alt="Draw The Hill">
                        <span class="badge">Draw The Hill</span>
                    </a>
                    <a href="Assets/Games/blockblast/index.html" class="game-card">
                        <img src="Assets/Game_Images/BlockBlast.png" alt="Block Blast">
                        <span class="badge">Block Blast</span>
                    </a>
                    <a href="Assets/Games/subwaysurfers/index.html" class="game-card">
                        <img src="Assets/Game_Images/SubwaySurfers.png" alt="Subway Surfers">
                        <span class="badge">Subway Surfers</span>
                    </a>
                </div>
                <button class="scroll-btn next">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; Sparx 2026. All rights reserved.</p>
        <button class="credits-btn" onclick="window.location.href='https://youtu.be/xMHJGd3wwZk?si=jnPxQvOlF_ag6PaB'">Credits</button>
    </footer>

    <script src="script.js"></script>

    <script>
        // Service worker registration (unchanged)
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('ServiceWorker registration successful');
                    })
                    .catch(err => {
                        console.log('ServiceWorker registration failed: ', err);
                    });
            });
        }
    </script>

    <!-- Password verification script (client-side) -->
    <script>
      // ===== CONFIGURE PASSWORD HERE =====
      // NOTE: This is client-side only. It's not secure for protecting sensitive content.
      const PASSWORD = 'same1'; // <-- set your desired password
      const GITHUB_TRIGGER = 'git'; // typing this opens the gethin101/maths repo
      const OG_TRIGGER = 'og'; // typing this opens parkerjohnathan834-afk/raddify repo
      const CODE_TRIGGER = 'code'; // typing this opens code.html

      const overlay = document.getElementById('captchaOverlay');
      const input = document.getElementById('captchaPasswordInput');
      const btn = document.getElementById('captchaConfirmBtn');
      const msg = document.getElementById('captchaMessage');

      function showMessage(text, show = true) {
        if (!msg) return;
        msg.textContent = text;
        msg.style.display = show ? 'block' : 'none';
      }

      function openUrlInNewTab(url, feedback) {
        try {
          window.open(url, '_blank', 'noopener');
          if (feedback) showMessage(feedback, true);
        } catch (e) {
          // popup might be blocked; fallback to navigating current tab
          window.location.href = url;
        }
      }

      function handleTriggerCommand(val) {
        const lower = val.toLowerCase();
        if (lower === GITHUB_TRIGGER) {
          openUrlInNewTab('https://github.com/gethin101/maths', 'Opening main repo...');
          return true;
        }
        if (lower === OG_TRIGGER) {
          openUrlInNewTab('https://github.com/parkerjohnathan834-afk', 'Opening parkerjohnathan834-afk...');
          return true;
        }
        if (lower === CODE_TRIGGER) {
          openUrlInNewTab('code.html', 'Opening code page...');
          return true;
        }
        return false;
      }

      function verify() {
        const raw = input.value || '';
        const val = raw.trim();
        if (!val) {
          showMessage('Please enter a password or command.');
          input.focus();
          return;
        }

        // If user typed a special trigger word, open the corresponding GitHub repo or page
        if (handleTriggerCommand(val)) {
          // Clear input but keep overlay visible so user can still enter the real password
          input.value = '';
          return;
        }

        // Normal password check
        if (val === PASSWORD) {
          showMessage('', false);
          // Hide overlay on success
          if (overlay) overlay.style.display = 'none';
          // Intentionally do NOT store a session flag so the overlay appears every page load
        } else {
          showMessage('Access denied: incorrect password.');
          input.value = '';
          input.focus();
        }
      }

      // Ensure the overlay is visible on every page load.
      if (overlay) {
        overlay.style.display = 'flex';
        overlay.style.position = overlay.style.position || 'fixed';
        overlay.style.top = overlay.style.top || '0';
        overlay.style.left = overlay.style.left || '0';
        overlay.style.width = overlay.style.width || '100%';
        overlay.style.height = overlay.style.height || '100%';
        overlay.style.zIndex = overlay.style.zIndex || '9999';
        overlay.style.alignItems = overlay.style.alignItems || 'center';
        overlay.style.justifyContent = overlay.style.justifyContent || 'center';
      }

      if (btn) btn.addEventListener('click', verify);
      if (input) input.addEventListener('keydown', function (e) {
        if (e.key === 'Enter') verify();
      });
    </script>

    <!-- Optional developer-only snippet to clear service workers & caches while testing.
         Remove this before publishing if you want the service worker to remain active. -->
    <script>
      // Uncomment to unregister service workers and clear caches (useful while testing page updates).
      /*
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.getRegistrations().then(regs => regs.forEach(r => r.unregister()));
      }
      if (window.caches) {
        caches.keys().then(keys => keys.forEach(k => caches.delete(k)));
      }
      */
    </script>
</body>
</html>
